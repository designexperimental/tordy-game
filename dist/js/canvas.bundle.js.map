{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/@babel/runtime/helpers/asyncToGenerator.js","webpack:///./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/createClass.js","webpack:///./node_modules/@babel/runtime/helpers/regeneratorRuntime.js","webpack:///./node_modules/@babel/runtime/helpers/toPrimitive.js","webpack:///./node_modules/@babel/runtime/helpers/toPropertyKey.js","webpack:///./node_modules/@babel/runtime/helpers/typeof.js","webpack:///./node_modules/@babel/runtime/regenerator/index.js","webpack:///./src/img/background.png","webpack:///./src/img/block.png","webpack:///./src/img/blockTri.png","webpack:///./src/img/hills.png","webpack:///./src/img/lgPlatform.png","webpack:///./src/img/mdPlatform.png","webpack:///./src/img/platform.png","webpack:///./src/img/platformSmallTall.png","webpack:///./src/img/spriteEnemy.png","webpack:///./src/img/spriteFireFlower.png","webpack:///./src/img/spriteFireFlowerJumpLeft.png","webpack:///./src/img/spriteFireFlowerJumpRight.png","webpack:///./src/img/spriteFireFlowerRunLeft.png","webpack:///./src/img/spriteFireFlowerRunRight.png","webpack:///./src/img/spriteFireFlowerShootLeft.png","webpack:///./src/img/spriteFireFlowerShootRight.png","webpack:///./src/img/spriteFireFlowerStandLeft.png","webpack:///./src/img/spriteFireFlowerStandRight.png","webpack:///./src/img/spriteMarioJumpLeft.png","webpack:///./src/img/spriteMarioJumpRight.png","webpack:///./src/img/spriteMarioRunLeft.png","webpack:///./src/img/spriteMarioRunRight.png","webpack:///./src/img/spriteMarioStandLeft.png","webpack:///./src/img/spriteMarioStandRight.png","webpack:///./src/img/tPlatform.png","webpack:///./src/img/xtPlatform.png","webpack:///./src/js/canvas.js","webpack:///./src/js/utils.js"],"names":["canvas","document","querySelector","contextGame","getContext","width","height","gravity","Player","speed","position","x","y","velocity","scale","image","createImage","spriteMarioStandRight","frames","sprites","stand","right","left","spriteMarioStandLeft","fireFlower","spriteFireFlowerStandRight","spriteFireFlowerStandLeft","run","spriteMarioRunRight","spriteMarioRunLeft","spriteFireFlowerRunRight","spriteFireFlowerRunLeft","jump","spriteMarioJumpRight","spriteMarioJumpLeft","spriteFireFlowerJumpRight","spriteFireFlowerJumpLeft","currentSprite","currentCropWidth","powerUps","invincible","opacity","save","globalAlpha","fillStyle","fillRect","drawImage","restore","draw","Platform","block","text","font","fillText","GenericObject","Enemy","distance","limit","traveled","spriteEnemy","Math","abs","FireFlower","spriteFireFlower","Particle","radius","color","fireball","timeToLive","beginPath","arc","PI","fill","closePath","platformImage","platformSmallTallImage","blockTriImage","lgPlatformImage","tPlatformImage","xtPlatformImage","player","platforms","genericObjects","enemies","particles","fireFlowers","lastKey","keys","pressed","scrollOffset","init","createImageAsync","platform","platformSmallTall","blockTri","lgPlatform","tPlatform","enemyWidth","background","hills","platformsMap","platformDistance","forEach","symbol","push","animate","requestAnimationFrame","genericObject","update","i","objectsTouch","object1","object2","setTimeout","splice","enemy","index","filter","particle","particleIndex","random","collisionTop","hitSide","length","hitSideOfPlatform","object","isOnTopOfPlatform","hitBottomOfPlatform","isOnTopOfPlatformCircle","bounce","console","log","addEventListener","keyCode","imageSrc","Image","src","Promise","resolve","onload"],"mappings":";QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;AClFA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,iH;;;;;;;;;;;AC9BA;AACA;AACA;AACA;AACA;AACA,+G;;;;;;;;;;;ACLA,oBAAoB,mBAAO,CAAC,kFAAoB;AAChD;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,4G;;;;;;;;;;;AClBA,cAAc,mBAAO,CAAC,oEAAa;AACnC;AACA,eAAe;AACf;AACA;AACA,GAAG;AACH,kBAAkB;AAClB;AACA;AACA;AACA;AACA,KAAK;AACL,uDAAuD;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,aAAa;AACb,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kFAAkF;AAClF;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,uBAAuB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,YAAY,aAAa;AACzB;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,QAAQ;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX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","file":"./js/canvas.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/js/canvas.js\");\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(undefined);\n    });\n  };\n}\nmodule.exports = _asyncToGenerator, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nmodule.exports = _classCallCheck, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var toPropertyKey = require(\"./toPropertyKey.js\");\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nmodule.exports = _createClass, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction _regeneratorRuntime() {\n  \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n  module.exports = _regeneratorRuntime = function _regeneratorRuntime() {\n    return exports;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  var exports = {},\n    Op = Object.prototype,\n    hasOwn = Op.hasOwnProperty,\n    defineProperty = Object.defineProperty || function (obj, key, desc) {\n      obj[key] = desc.value;\n    },\n    $Symbol = \"function\" == typeof Symbol ? Symbol : {},\n    iteratorSymbol = $Symbol.iterator || \"@@iterator\",\n    asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\",\n    toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), obj[key];\n  }\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function define(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator,\n      generator = Object.create(protoGenerator.prototype),\n      context = new Context(tryLocsList || []);\n    return defineProperty(generator, \"_invoke\", {\n      value: makeInvokeMethod(innerFn, self, context)\n    }), generator;\n  }\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf,\n    NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function (method) {\n      define(prototype, method, function (arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (\"throw\" !== record.type) {\n        var result = record.arg,\n          value = result.value;\n        return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) {\n          invoke(\"next\", value, resolve, reject);\n        }, function (err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function (unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function (error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n      reject(record.arg);\n    }\n    var previousPromise;\n    defineProperty(this, \"_invoke\", {\n      value: function value(method, arg) {\n        function callInvokeWithMethodAndArg() {\n          return new PromiseImpl(function (resolve, reject) {\n            invoke(method, arg, resolve, reject);\n          });\n        }\n        return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = \"suspendedStart\";\n    return function (method, arg) {\n      if (\"executing\" === state) throw new Error(\"Generator is already running\");\n      if (\"completed\" === state) {\n        if (\"throw\" === method) throw arg;\n        return doneResult();\n      }\n      for (context.method = method, context.arg = arg;;) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n        if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) {\n          if (\"suspendedStart\" === state) throw state = \"completed\", context.arg;\n          context.dispatchException(context.arg);\n        } else \"return\" === context.method && context.abrupt(\"return\", context.arg);\n        state = \"executing\";\n        var record = tryCatch(innerFn, self, context);\n        if (\"normal\" === record.type) {\n          if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue;\n          return {\n            value: record.arg,\n            done: context.done\n          };\n        }\n        \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(delegate, context) {\n    var methodName = context.method,\n      method = delegate.iterator[methodName];\n    if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel;\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);\n  }\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next) return iterable;\n      if (!isNaN(iterable.length)) {\n        var i = -1,\n          next = function next() {\n            for (; ++i < iterable.length;) if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next;\n            return next.value = undefined, next.done = !0, next;\n          };\n        return next.next = next;\n      }\n    }\n    return {\n      next: doneResult\n    };\n  }\n  function doneResult() {\n    return {\n      value: undefined,\n      done: !0\n    };\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: !0\n  }), defineProperty(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: !0\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function (genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function (arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () {\n    return this;\n  }), define(Gp, \"toString\", function () {\n    return \"[object Generator]\";\n  }), exports.keys = function (val) {\n    var object = Object(val),\n      keys = [];\n    for (var key in object) keys.push(key);\n    return keys.reverse(), function next() {\n      for (; keys.length;) {\n        var key = keys.pop();\n        if (key in object) return next.value = key, next.done = !1, next;\n      }\n      return next.done = !0, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined);\n    },\n    stop: function stop() {\n      this.done = !0;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type) throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(exception) {\n      if (this.done) throw exception;\n      var context = this;\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught;\n      }\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i],\n          record = entry.completion;\n        if (\"root\" === entry.tryLoc) return handle(\"end\");\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"),\n            hasFinally = hasOwn.call(entry, \"finallyLoc\");\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n          } else {\n            if (!hasFinally) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function complete(record, afterLoc) {\n      if (\"throw\" === record.type) throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function finish(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    \"catch\": function _catch(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel;\n    }\n  }, exports;\n}\nmodule.exports = _regeneratorRuntime, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nmodule.exports = _toPrimitive, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nvar toPrimitive = require(\"./toPrimitive.js\");\nfunction _toPropertyKey(arg) {\n  var key = toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}\nmodule.exports = _toPropertyKey, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(obj);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// TODO(Babel 8): Remove this file.\n\nvar runtime = require(\"../helpers/regeneratorRuntime\")();\nmodule.exports = runtime;\n\n// Copied from https://github.com/facebook/regenerator/blob/main/packages/runtime/runtime.js#L736=\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","export default __webpack_public_path__ + \"072d51bcc9c09311d4c2a6708b05bddc.png\";","export default __webpack_public_path__ + \"fac88169424b827f4bbca82bd7a01a9f.png\";","export default __webpack_public_path__ + \"0f732b622c2a2a256940ec159c5a7941.png\";","export default __webpack_public_path__ + \"cfffe4c371f5e11d372b398a87c51dd0.png\";","export default __webpack_public_path__ + \"08b228664ecabddb2b575dd45bde1899.png\";","export default __webpack_public_path__ + \"14408ab95621e4d0e636104c0d045106.png\";","export default __webpack_public_path__ + \"ffab39d3487de561be1a081fcfb3806d.png\";","export default __webpack_public_path__ + \"0587f9be8e442eb74b2fe283bbf1a947.png\";","export default __webpack_public_path__ + \"a1de12fbeda5f4cadc1c0cec27c01014.png\";","export default __webpack_public_path__ + \"434554c25d0262d9ae16c700febfa462.png\";","export default __webpack_public_path__ + \"fe7f83abbc33795c55d5bbab3ab117f3.png\";","export default __webpack_public_path__ + \"b5b7bdebff9886acfe07b077e9357d84.png\";","export default __webpack_public_path__ + \"dac857eaeda937793a54db5301b14e46.png\";","export default __webpack_public_path__ + \"c957f14ac99dfa4f90a424a042a43e7b.png\";","export default __webpack_public_path__ + \"968edc488cf0846c4e3ee0c70a603576.png\";","export default __webpack_public_path__ + \"b800c0a402dc6ef4a09a8a2cabf21b0c.png\";","export default __webpack_public_path__ + \"078c954a7e3c7b68639b3a5fbe448e8e.png\";","export default __webpack_public_path__ + \"9c8c09ed0463034dc3480fc1eb36234b.png\";","export default __webpack_public_path__ + \"79a87181aec94b5e1d21942963ebe634.png\";","export default __webpack_public_path__ + \"ffdd5958ac8fc0192de1a8855d128203.png\";","export default __webpack_public_path__ + \"bd67564ba49a9b4944f1ac5c812adc9d.png\";","export default __webpack_public_path__ + \"0a0b6df309febe5e8b6c74c066c6a08e.png\";","export default __webpack_public_path__ + \"5278df33f538bbd50783473847521409.png\";","export default __webpack_public_path__ + \"5a31f024f6d43f2604bafd029981127f.png\";","export default __webpack_public_path__ + \"d119235cfb5fe1e6bcc3010e83e9968e.png\";","export default __webpack_public_path__ + \"1e48f47873af05232d20d003b68fdecd.png\";","import {\n\t// prettier-ignore\n\tcreateImage,\n\tcreateImageAsync,\n\tisOnTopOfPlatform,\n\tcollisionTop,\n\tisOnTopOfPlatformCircle,\n\thitBottomOfPlatform,\n\thitSideOfPlatform,\n\tobjectsTouch,\n} from \"./utils.js\";\n\n// Scenario\nimport background from \"../img/background.png\";\nimport hills from \"../img/hills.png\";\nimport platform from \"../img/platform.png\";\nimport platformSmallTall from \"../img/platformSmallTall.png\";\nimport block from \"../img/block.png\";\nimport blockTri from \"../img/blockTri.png\";\nimport mdPlatform from \"../img/mdPlatform.png\";\nimport lgPlatform from \"../img/lgPlatform.png\";\nimport tPlatform from \"../img/tPlatform.png\";\nimport xtPlatform from \"../img/xtPlatform.png\";\n\n// Normal Character\nimport spriteMarioRunLeft from \"../img/spriteMarioRunLeft.png\";\nimport spriteMarioRunRight from \"../img/spriteMarioRunRight.png\";\nimport spriteMarioStandLeft from \"../img/spriteMarioStandLeft.png\";\nimport spriteMarioStandRight from \"../img/spriteMarioStandRight.png\";\nimport spriteMarioJumpLeft from \"../img/spriteMarioJumpLeft.png\";\nimport spriteMarioJumpRight from \"../img/spriteMarioJumpRight.png\";\n\n// FireFlower Character\nimport spriteFireFlowerRunLeft from \"../img/spriteFireFlowerRunLeft.png\";\nimport spriteFireFlowerRunRight from \"../img/spriteFireFlowerRunRight.png\";\nimport spriteFireFlowerStandLeft from \"../img/spriteFireFlowerStandLeft.png\";\nimport spriteFireFlowerStandRight from \"../img/spriteFireFlowerStandRight.png\";\nimport spriteFireFlowerJumpLeft from \"../img/spriteFireFlowerJumpLeft.png\";\nimport spriteFireFlowerJumpRight from \"../img/spriteFireFlowerJumpRight.png\";\n\n// FireFlower Character Shoot\nimport spriteFireFlowerShootLeft from \"../img/spriteFireFlowerShootLeft.png\";\nimport spriteFireFlowerShootRight from \"../img/spriteFireFlowerShootRight.png\";\n\nimport spriteFireFlower from \"../img/spriteFireFlower.png\";\nimport spriteEnemy from \"../img/spriteEnemy.png\";\n\nconst canvas = document.querySelector(\"canvas\");\nconst contextGame = canvas.getContext(\"2d\");\n\ncanvas.width = 1024;\ncanvas.height = 576;\n\nconst gravity = 1;\n\nclass Player {\n\tconstructor() {\n\t\tthis.speed = 10;\n\t\tthis.position = {\n\t\t\tx: 100,\n\t\t\ty: 100,\n\t\t};\n\n\t\t// Player velocity\n\t\tthis.velocity = {\n\t\t\tx: 0,\n\t\t\ty: 1,\n\t\t};\n\n\t\t// Player sizes\n\t\tthis.scale = 0.3;\n\t\tthis.width = 398 * this.scale;\n\t\tthis.height = 353 * this.scale;\n\n\t\tthis.image = createImage(spriteMarioStandRight);\n\t\tthis.frames = 0;\n\t\tthis.sprites = {\n\t\t\tstand: {\n\t\t\t\tright: createImage(spriteMarioStandRight),\n\t\t\t\tleft: createImage(spriteMarioStandLeft),\n\t\t\t\tfireFlower: {\n\t\t\t\t\tright: createImage(spriteFireFlowerStandRight),\n\t\t\t\t\tleft: createImage(spriteFireFlowerStandLeft),\n\t\t\t\t},\n\t\t\t},\n\t\t\trun: {\n\t\t\t\tright: createImage(spriteMarioRunRight),\n\t\t\t\tleft: createImage(spriteMarioRunLeft),\n\t\t\t\tfireFlower: {\n\t\t\t\t\tright: createImage(spriteFireFlowerRunRight),\n\t\t\t\t\tleft: createImage(spriteFireFlowerRunLeft),\n\t\t\t\t},\n\t\t\t},\n\t\t\tjump: {\n\t\t\t\tright: createImage(spriteMarioJumpRight),\n\t\t\t\tleft: createImage(spriteMarioJumpLeft),\n\t\t\t\tfireFlower: {\n\t\t\t\t\tright: createImage(spriteFireFlowerJumpRight),\n\t\t\t\t\tleft: createImage(spriteFireFlowerJumpLeft),\n\t\t\t\t},\n\t\t\t},\n\t\t};\n\n\t\tthis.currentSprite = this.sprites.stand.right;\n\t\tthis.currentCropWidth = 398;\n\t\tthis.powerUps = {\n\t\t\tfireFlower: false,\n\t\t};\n\t\tthis.invincible = false;\n\t\tthis.opacity = 1;\n\t}\n\n\t// Draw the Player on the screen\n\tdraw() {\n\t\t// rectangle player\n\t\t// contextGame.fillStyle = \"red\";\n\t\t// contextGame.fillRect(this.position.x, this.position.y, this.width, this.height);\n\n\t\t// sprite player\n\t\t// show an rectangle in the player\n\t\tcontextGame.save();\n\t\tcontextGame.globalAlpha = this.opacity;\n\t\tcontextGame.fillStyle = \"rgba(0,0,0, 0.2\";\n\t\tcontextGame.fillRect(this.position.x, this.position.y, this.width, this.height);\n\n\t\t// prettier-ignore\n\t\tcontextGame.drawImage(\n\t\t\tthis.currentSprite, \n\t\t\tthis.currentCropWidth * this.frames,\n\t\t\t0,\n\t\t\tthis.currentCropWidth,\n\t\t\t353,\n\t\t\tthis.position.x, \n\t\t\tthis.position.y, \n\t\t\tthis.width, \n\t\t\tthis.height\n\t\t);\n\t\tcontextGame.restore();\n\t}\n\n\tupdate() {\n\t\tthis.frames++;\n\n\t\tconst { currentSprite, sprites } = this;\n\n\t\t// prettier-ignore\n\t\tif (\n\t\t\tthis.frames > 58 && (\n\t\t\t\tcurrentSprite === sprites.stand.right || \n\t\t\t\tcurrentSprite === sprites.stand.left || \n\t\t\t\tcurrentSprite === sprites.stand.fireFlower.left || \n\t\t\t\tcurrentSprite === sprites.stand.fireFlower.right\n\t\t\t)) this.frames = 0;\n\t\telse if (\n\t\t\tthis.frames > 28 && (\n\t\t\t\tcurrentSprite === sprites.run.right || \n\t\t\t\tcurrentSprite === sprites.run.left || \n\t\t\t\tcurrentSprite === sprites.run.fireFlower.right || \n\t\t\t\tcurrentSprite === sprites.run.fireFlower.left\n\t\t\t)) this.frames = 0;\n\t\telse if (\n\t\t\tcurrentSprite === sprites.jump.right || \n\t\t\tcurrentSprite === sprites.jump.left || \n\t\t\tcurrentSprite === sprites.jump.fireFlower.right || \n\t\t\tcurrentSprite === sprites.jump.fireFlower.left\n\t\t) this.frames = 0;\n\n\t\tthis.draw();\n\t\tthis.position.x += this.velocity.x;\n\t\tthis.position.y += this.velocity.y;\n\n\t\tif (this.position.y + this.height + this.velocity.y <= canvas.height) this.velocity.y += gravity;\n\t\t// else this.velocity.y = 0;\n\n\t\tif (this.invincible) {\n\t\t\tif (this.opacity === 1) this.opacity = 0;\n\t\t\telse this.opacity = 1;\n\t\t} else this.opacity = 1;\n\t}\n}\n\nclass Platform {\n\tconstructor({ x, y, image, block, text }) {\n\t\tthis.position = {\n\t\t\tx,\n\t\t\ty,\n\t\t};\n\n\t\tthis.velocity = {\n\t\t\tx: 0,\n\t\t};\n\n\t\tthis.image = image;\n\t\tthis.width = image.width;\n\t\tthis.height = image.height;\n\t\tthis.block = block;\n\t\tthis.text = text;\n\t}\n\n\tdraw() {\n\t\tcontextGame.drawImage(this.image, this.position.x, this.position.y);\n\n\t\tif (this.text) {\n\t\t\tcontextGame.font = \"24 Arial\";\n\t\t\tcontextGame.fillStyle = \"white\";\n\t\t\tcontextGame.fillText(this.text, this.position.x, this.position.y);\n\t\t}\n\t}\n\n\tupdate() {\n\t\tthis.draw();\n\t\tthis.position.x += this.velocity.x;\n\t}\n}\n\nclass GenericObject {\n\tconstructor({ x, y, image }) {\n\t\tthis.position = {\n\t\t\tx,\n\t\t\ty,\n\t\t};\n\n\t\tthis.velocity = {\n\t\t\tx: 0,\n\t\t};\n\n\t\tthis.image = image;\n\t\tthis.width = image.width;\n\t\tthis.height = image.height;\n\t}\n\n\tdraw() {\n\t\tcontextGame.drawImage(this.image, this.position.x, this.position.y);\n\t}\n\n\tupdate() {\n\t\tthis.draw();\n\t\tthis.position.x += this.velocity.x;\n\t}\n}\n\nclass Enemy {\n\tconstructor({\n\t\tposition,\n\t\tvelocity,\n\t\tdistance = {\n\t\t\tlimit: 50,\n\t\t\ttraveled: 0,\n\t\t},\n\t}) {\n\t\tthis.position = {\n\t\t\tx: position.x,\n\t\t\ty: position.y,\n\t\t};\n\n\t\tthis.velocity = {\n\t\t\tx: velocity.x,\n\t\t\ty: velocity.y,\n\t\t};\n\n\t\tthis.width = 43.33;\n\t\tthis.height = 50;\n\n\t\tthis.image = createImage(spriteEnemy);\n\t\tthis.frames = 0;\n\n\t\tthis.distance = distance;\n\t}\n\n\tdraw() {\n\t\t// contextGame.fillStyle = \"red\";\n\t\t// contextGame.fillRect(this.position.x, this.position.y, this.width, this.height);\n\n\t\t// sprite enemy\n\t\t// prettier-ignore\n\t\tcontextGame.drawImage(\n\t\t\tthis.image, \n\t\t\t130 * this.frames,\n\t\t\t0,\n\t\t\t130,\n\t\t\t150,\n\t\t\tthis.position.x, \n\t\t\tthis.position.y, \n\t\t\tthis.width, \n\t\t\tthis.height\n\t\t);\n\t}\n\n\tupdate() {\n\t\tthis.frames++;\n\t\tif (this.frames >= 58) this.frames = 0;\n\n\t\tthis.draw();\n\n\t\tthis.position.x += this.velocity.x;\n\t\tthis.position.y += this.velocity.y;\n\n\t\tif (this.position.y + this.height + this.velocity.y <= canvas.height) this.velocity.y += gravity;\n\n\t\t// walk the enemy back and forth\n\t\tthis.distance.traveled += Math.abs(this.velocity.x);\n\n\t\tif (this.distance.traveled > this.distance.limit) {\n\t\t\tthis.distance.traveled = 0;\n\t\t\tthis.velocity.x = -this.velocity.x;\n\t\t}\n\t\t// console.log(this.distance.traveled);\n\t}\n}\n\nclass FireFlower {\n\tconstructor({ position, velocity }) {\n\t\tthis.position = {\n\t\t\tx: position.x,\n\t\t\ty: position.y,\n\t\t};\n\n\t\tthis.velocity = {\n\t\t\tx: velocity.x,\n\t\t\ty: velocity.y,\n\t\t};\n\n\t\tthis.width = 56;\n\t\tthis.height = 60;\n\n\t\tthis.image = createImage(spriteFireFlower);\n\t\tthis.frames = 0;\n\t}\n\n\tdraw() {\n\t\t// prettier-ignore\n\t\tcontextGame.drawImage(\n\t\t\tthis.image, \n\t\t\t56 * this.frames,\n\t\t\t0,\n\t\t\t56,\n\t\t\t60,\n\t\t\tthis.position.x, \n\t\t\tthis.position.y, \n\t\t\tthis.width, \n\t\t\tthis.height\n\t\t);\n\t}\n\n\tupdate() {\n\t\tthis.frames++;\n\t\tif (this.frames >= 75) this.frames = 0;\n\n\t\tthis.draw();\n\n\t\tthis.position.x += this.velocity.x;\n\t\tthis.position.y += this.velocity.y;\n\n\t\tif (this.position.y + this.height + this.velocity.y <= canvas.height) this.velocity.y += gravity;\n\t}\n}\n\nclass Particle {\n\tconstructor({ position, velocity, radius, color = \"#654428\", fireball = false }) {\n\t\tthis.position = {\n\t\t\tx: position.x,\n\t\t\ty: position.y,\n\t\t};\n\t\tthis.velocity = {\n\t\t\tx: velocity.x,\n\t\t\ty: velocity.y,\n\t\t};\n\t\tthis.radius = radius;\n\t\tthis.timeToLive = 300;\n\t\tthis.color = color;\n\t\tthis.fireball = fireball;\n\t}\n\n\tdraw() {\n\t\tcontextGame.beginPath();\n\t\tcontextGame.arc(this.position.x, this.position.y, this.radius, 0, Math.PI * 2, false);\n\t\tcontextGame.fillStyle = this.color;\n\t\tcontextGame.fill();\n\t\tcontextGame.closePath();\n\t}\n\n\tupdate() {\n\t\tthis.timeToLive--;\n\t\tthis.draw();\n\t\tthis.position.x += this.velocity.x;\n\t\tthis.position.y += this.velocity.y;\n\n\t\tif (this.position.y + this.radius + this.velocity.y <= canvas.height) this.velocity.y += gravity * 0.5;\n\t}\n}\n\nlet platformImage;\nlet platformSmallTallImage;\nlet blockTriImage;\n\nlet lgPlatformImage;\nlet tPlatformImage;\nlet xtPlatformImage;\n\nlet player = new Player();\nlet platforms = [];\nlet genericObjects = [];\nlet enemies = [];\nlet particles = [];\nlet fireFlowers = [];\n\nlet lastKey;\n\nconst keys = {\n\tright: {\n\t\tpressed: false,\n\t},\n\tleft: {\n\t\tpressed: false,\n\t},\n};\n\nlet scrollOffset = 0;\n\nasync function init() {\n\tplatformImage = await createImageAsync(platform);\n\tplatformSmallTallImage = await createImageAsync(platformSmallTall);\n\tblockTriImage = await createImageAsync(blockTri);\n\n\tlgPlatformImage = await createImageAsync(lgPlatform);\n\ttPlatformImage = await createImageAsync(tPlatform);\n\txtPlatformImage = await createImageAsync(tPlatform);\n\n\tfireFlowers = [\n\t\tnew FireFlower({\n\t\t\tposition: {\n\t\t\t\tx: 400,\n\t\t\t\ty: 100,\n\t\t\t},\n\t\t\tvelocity: {\n\t\t\t\tx: 0,\n\t\t\t\ty: 0,\n\t\t\t},\n\t\t}),\n\t];\n\n\tplayer = new Player();\n\n\tconst enemyWidth = 43.33;\n\n\tenemies = [\n\t\tnew Enemy({\n\t\t\tposition: {\n\t\t\t\tx: 908 + lgPlatformImage.width - enemyWidth,\n\t\t\t\ty: 100,\n\t\t\t},\n\t\t\tvelocity: {\n\t\t\t\tx: -0.5,\n\t\t\t\ty: 0,\n\t\t\t},\n\t\t\tdistance: {\n\t\t\t\tlimit: 400,\n\t\t\t\ttraveled: 0,\n\t\t\t},\n\t\t}),\n\n\t\tnew Enemy({\n\t\t\tposition: {\n\t\t\t\tx: 3249 + lgPlatformImage.width - enemyWidth,\n\t\t\t\ty: 100,\n\t\t\t},\n\t\t\tvelocity: {\n\t\t\t\tx: -0.5,\n\t\t\t\ty: 0,\n\t\t\t},\n\t\t\tdistance: {\n\t\t\t\tlimit: 400,\n\t\t\t\ttraveled: 0,\n\t\t\t},\n\t\t}),\n\n\t\tnew Enemy({\n\t\t\tposition: {\n\t\t\t\tx: 3249 + lgPlatformImage.width - enemyWidth - enemyWidth,\n\t\t\t\ty: 100,\n\t\t\t},\n\t\t\tvelocity: {\n\t\t\t\tx: -0.5,\n\t\t\t\ty: 0,\n\t\t\t},\n\t\t\tdistance: {\n\t\t\t\tlimit: 400,\n\t\t\t\ttraveled: 0,\n\t\t\t},\n\t\t}),\n\n\t\tnew Enemy({\n\t\t\tposition: {\n\t\t\t\tx: 3249 + lgPlatformImage.width - enemyWidth - enemyWidth - enemyWidth,\n\t\t\t\ty: 100,\n\t\t\t},\n\t\t\tvelocity: {\n\t\t\t\tx: -0.5,\n\t\t\t\ty: 0,\n\t\t\t},\n\t\t\tdistance: {\n\t\t\t\tlimit: 400,\n\t\t\t\ttraveled: 0,\n\t\t\t},\n\t\t}),\n\n\t\tnew Enemy({\n\t\t\tposition: {\n\t\t\t\tx: 3249 + lgPlatformImage.width - enemyWidth - enemyWidth - enemyWidth - enemyWidth,\n\t\t\t\ty: 100,\n\t\t\t},\n\t\t\tvelocity: {\n\t\t\t\tx: -0.5,\n\t\t\t\ty: 0,\n\t\t\t},\n\t\t\tdistance: {\n\t\t\t\tlimit: 400,\n\t\t\t\ttraveled: 0,\n\t\t\t},\n\t\t}),\n\n\t\tnew Enemy({\n\t\t\tposition: {\n\t\t\t\tx: 5134 + xtPlatformImage.width / 2 + enemyWidth,\n\t\t\t\ty: 100,\n\t\t\t},\n\t\t\tvelocity: {\n\t\t\t\tx: -0.5,\n\t\t\t\ty: 0,\n\t\t\t},\n\t\t\tdistance: {\n\t\t\t\tlimit: 100,\n\t\t\t\ttraveled: 0,\n\t\t\t},\n\t\t}),\n\t];\n\n\t// particles = [new Particle({})];\n\n\t// create the platforms\n\tplatforms = [];\n\n\tgenericObjects = [\n\t\tnew GenericObject({\n\t\t\tx: -1,\n\t\t\ty: -1,\n\t\t\timage: createImage(background),\n\t\t}),\n\t\tnew GenericObject({\n\t\t\tx: -1,\n\t\t\ty: -1,\n\t\t\timage: createImage(hills),\n\t\t}),\n\t];\n\n\tscrollOffset = 0;\n\n\t// array of scenario\n\tconst platformsMap = [\"lg\", \"lg\", \"gap\", \"lg\", \"gap\", \"gap\", \"lg\", \"gap\", \"t\", \"gap\", \"xt\", \"gap\", \"xt\", \"gap\", \"gap\", \"xt\"];\n\n\t// distance definition\n\tlet platformDistance = 0;\n\n\t// creating dynamic scenario\n\tplatformsMap.forEach((symbol) => {\n\t\tswitch (symbol) {\n\t\t\tcase \"lg\":\n\t\t\t\tplatforms.push(\n\t\t\t\t\tnew Platform({\n\t\t\t\t\t\tx: platformDistance,\n\t\t\t\t\t\ty: canvas.height - lgPlatformImage.height,\n\t\t\t\t\t\timage: lgPlatformImage,\n\t\t\t\t\t\tblock: true,\n\t\t\t\t\t\ttext: platformDistance,\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t\tplatformDistance += lgPlatformImage.width - 2;\n\t\t\t\tbreak;\n\n\t\t\tcase \"gap\":\n\t\t\t\tplatformDistance += 175;\n\t\t\t\tbreak;\n\t\t\tcase \"t\":\n\t\t\t\tplatforms.push(\n\t\t\t\t\tnew Platform({\n\t\t\t\t\t\tx: platformDistance,\n\t\t\t\t\t\ty: canvas.height - tPlatformImage.height,\n\t\t\t\t\t\timage: tPlatformImage,\n\t\t\t\t\t\tblock: true,\n\t\t\t\t\t\ttext: platformDistance,\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t\tplatformDistance += tPlatformImage.width - 2;\n\t\t\t\tbreak;\n\n\t\t\tcase \"xt\":\n\t\t\t\tplatforms.push(\n\t\t\t\t\tnew Platform({\n\t\t\t\t\t\tx: platformDistance,\n\t\t\t\t\t\ty: canvas.height - xtPlatformImage.height,\n\t\t\t\t\t\timage: xtPlatformImage,\n\t\t\t\t\t\tblock: true,\n\t\t\t\t\t\ttext: platformDistance,\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t\tplatformDistance += xtPlatformImage.width - 2;\n\t\t\t\tbreak;\n\t\t}\n\t});\n}\n\nfunction animate() {\n\trequestAnimationFrame(animate);\n\n\tcontextGame.fillStyle = \"white\";\n\tcontextGame.fillRect(0, 0, canvas.width, canvas.height);\n\n\tgenericObjects.forEach((genericObject) => {\n\t\tgenericObject.update();\n\t\tgenericObject.velocity.x = 0;\n\t});\n\n\tplatforms.forEach((platform) => {\n\t\tplatform.update();\n\t\tplatform.velocity.x = 0;\n\t});\n\n\t// player obtains powerup\n\tfireFlowers.forEach((fireFlower, i) => {\n\t\tif (\n\t\t\tobjectsTouch({\n\t\t\t\tobject1: player,\n\t\t\t\tobject2: fireFlower,\n\t\t\t})\n\t\t) {\n\t\t\tplayer.powerUps.fireFlower = true;\n\t\t\tsetTimeout(() => {\n\t\t\t\tfireFlowers.splice(i, 1);\n\t\t\t}, 0);\n\t\t} else fireFlower.update();\n\t});\n\n\tenemies.forEach((enemy, index) => {\n\t\tenemy.update();\n\n\t\t// remove enemy on fireball hit\n\t\tparticles\n\t\t\t.filter((particle) => particle.fireball)\n\t\t\t.forEach((particle, particleIndex) => {\n\t\t\t\tif (\n\t\t\t\t\t// prettier-ignore\n\t\t\t\t\tparticle.position.x + particle.radius >= enemy.position.x && \n\t\t\t\tparticle.position.y + particle.radius >= enemy.position.y && \n\t\t\t\tparticle.position.x - particle.radius <= enemy.position.x + enemy.width && \n\t\t\t\tparticle.position.y - particle.radius <= enemy.position.y + enemy.height\n\t\t\t\t) {\n\t\t\t\t\t// explode enemy with fireFlower\n\t\t\t\t\tfor (let i = 0; i < 50; i++) {\n\t\t\t\t\t\tparticles.push(\n\t\t\t\t\t\t\tnew Particle({\n\t\t\t\t\t\t\t\tposition: {\n\t\t\t\t\t\t\t\t\tx: enemy.position.x + enemy.width / 2,\n\t\t\t\t\t\t\t\t\ty: enemy.position.y + enemy.height / 2,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tvelocity: {\n\t\t\t\t\t\t\t\t\tx: (Math.random() - 0.5) * 5,\n\t\t\t\t\t\t\t\t\ty: (Math.random() - 0.5) * 15,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tradius: Math.random() * 3,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tenemies.splice(index, 1);\n\t\t\t\t\t\tparticles.splice(particleIndex, 1);\n\t\t\t\t\t}, 0);\n\t\t\t\t}\n\t\t\t});\n\n\t\t// enemies stomp squish\n\t\tif (\n\t\t\tcollisionTop({\n\t\t\t\tobject1: player,\n\t\t\t\tobject2: enemy,\n\t\t\t})\n\t\t) {\n\t\t\t// explode enemy after hit\n\t\t\tfor (let i = 0; i < 50; i++) {\n\t\t\t\tparticles.push(\n\t\t\t\t\tnew Particle({\n\t\t\t\t\t\tposition: {\n\t\t\t\t\t\t\tx: enemy.position.x + enemy.width / 2,\n\t\t\t\t\t\t\ty: enemy.position.y + enemy.height / 2,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tvelocity: {\n\t\t\t\t\t\t\tx: (Math.random() - 0.5) * 5,\n\t\t\t\t\t\t\ty: (Math.random() - 0.5) * 15,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tradius: Math.random() * 3,\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t}\n\t\t\tplayer.velocity.y -= 30;\n\t\t\tsetTimeout(() => {\n\t\t\t\tenemies.splice(index, 1);\n\t\t\t\t// console.log(particles);\n\t\t\t}, 0);\n\t\t} else if (\n\t\t\t// prettier-ignore\n\t\t\tplayer.position.x + player.width >= enemy.position.x && \n\t\t\tplayer.position.y + player.height >= enemy.position.y && \n\t\t\tplayer.position.x <= enemy.position.x + enemy.width\n\t\t) {\n\t\t\tif (player.powerUps.fireFlower) {\n\t\t\t\tplayer.invincible = true;\n\t\t\t\tplayer.powerUps.fireFlower = false;\n\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tplayer.invincible = false;\n\t\t\t\t}, 1000);\n\t\t\t} else if (!player.invincible) init();\n\t\t}\n\t});\n\n\tparticles.forEach((particle, i) => {\n\t\tparticle.update();\n\n\t\tif (particle.fireball && (particle.position.x - particle.radius >= canvas.width || particle.position.x + particle.radius <= 0))\n\t\t\tsetTimeout(() => {\n\t\t\t\tparticles.splice(i, 1);\n\t\t\t}, 0);\n\t});\n\n\tplayer.update();\n\n\tlet hitSide = false;\n\n\tif (keys.right.pressed && player.position.x < 400) {\n\t\tplayer.velocity.x = player.speed;\n\t} else if (\n\t\t// prettier-ignore : bloqueia andar antes da fase 1/2\n\t\t(keys.left.pressed && player.position.x > 100) ||\n\t\t(keys.left.pressed && scrollOffset === 0 && player.position.x > 0)\n\t) {\n\t\tplayer.velocity.x = -player.speed;\n\t} else {\n\t\tplayer.velocity.x = 0;\n\n\t\t// scrolling code\n\t\tif (keys.right.pressed) {\n\t\t\tfor (let i = 0; i < platforms.length; i++) {\n\t\t\t\tconst platform = platforms[i];\n\t\t\t\tplatform.velocity.x = -player.speed;\n\n\t\t\t\tif (\n\t\t\t\t\tplatform.block &&\n\t\t\t\t\thitSideOfPlatform({\n\t\t\t\t\t\tobject: player,\n\t\t\t\t\t\tplatform,\n\t\t\t\t\t})\n\t\t\t\t) {\n\t\t\t\t\tplatforms.forEach((platform) => {\n\t\t\t\t\t\tplatform.velocity.x = 0;\n\t\t\t\t\t});\n\n\t\t\t\t\thitSide = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// });\n\n\t\t\tif (!hitSide) {\n\t\t\t\tscrollOffset += player.speed;\n\n\t\t\t\tgenericObjects.forEach((genericObject) => {\n\t\t\t\t\tgenericObject.velocity.x = -player.speed * 0.5;\n\t\t\t\t});\n\n\t\t\t\tenemies.forEach((enemy) => {\n\t\t\t\t\tenemy.position.x -= player.speed;\n\t\t\t\t});\n\n\t\t\t\tfireFlowers.forEach((fireFlower) => {\n\t\t\t\t\tfireFlower.position.x -= player.speed;\n\t\t\t\t});\n\n\t\t\t\tparticles.forEach((particle) => {\n\t\t\t\t\tparticle.position.x -= player.speed;\n\t\t\t\t});\n\t\t\t}\n\t\t} else if (\n\t\t\t// prettier-ignore : bloqueia andar antes da fase 2/2\n\t\t\tkeys.left.pressed &&\n\t\t\tscrollOffset > 0\n\t\t) {\n\t\t\tfor (let i = 0; i < platforms.length; i++) {\n\t\t\t\tconst platform = platforms[i];\n\t\t\t\tplatform.velocity.x = player.speed;\n\n\t\t\t\tif (\n\t\t\t\t\tplatform.block &&\n\t\t\t\t\thitSideOfPlatform({\n\t\t\t\t\t\tobject: player,\n\t\t\t\t\t\tplatform,\n\t\t\t\t\t})\n\t\t\t\t) {\n\t\t\t\t\tplatforms.forEach((platform) => {\n\t\t\t\t\t\tplatform.velocity.x = 0;\n\t\t\t\t\t});\n\n\t\t\t\t\thitSide = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!hitSide) {\n\t\t\t\tscrollOffset -= player.speed;\n\n\t\t\t\tgenericObjects.forEach((genericObject) => {\n\t\t\t\t\tgenericObject.velocity.x = player.speed * 0.5;\n\t\t\t\t});\n\n\t\t\t\tenemies.forEach((enemy) => {\n\t\t\t\t\tenemy.position.x += player.speed;\n\t\t\t\t});\n\n\t\t\t\tfireFlowers.forEach((fireFlower) => {\n\t\t\t\t\tfireFlower.position.x += player.speed;\n\t\t\t\t});\n\n\t\t\t\tparticles.forEach((particle) => {\n\t\t\t\t\tparticle.position.x += player.speed;\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\t// platform collision detection\n\tplatforms.forEach((platform) => {\n\t\tif (\n\t\t\tisOnTopOfPlatform({\n\t\t\t\tobject: player,\n\t\t\t\tplatform,\n\t\t\t})\n\t\t) {\n\t\t\tplayer.velocity.y = 0;\n\t\t}\n\n\t\tif (\n\t\t\tplatform.block &&\n\t\t\thitBottomOfPlatform({\n\t\t\t\tobject: player,\n\t\t\t\tplatform,\n\t\t\t})\n\t\t) {\n\t\t\tplayer.velocity.y = -player.velocity.y;\n\t\t}\n\n\t\tif (\n\t\t\tplatform.block &&\n\t\t\thitSideOfPlatform({\n\t\t\t\tobject: player,\n\t\t\t\tplatform,\n\t\t\t})\n\t\t) {\n\t\t\tplayer.velocity.x = 0;\n\t\t}\n\n\t\t// particles bounce\n\t\tparticles.forEach((particle, index) => {\n\t\t\tif (\n\t\t\t\tisOnTopOfPlatformCircle({\n\t\t\t\t\tobject: particle,\n\t\t\t\t\tplatform,\n\t\t\t\t})\n\t\t\t) {\n\t\t\t\tconst bounce = 0.9;\n\t\t\t\tparticle.velocity.y = -particle.velocity.y * 0.99;\n\n\t\t\t\tif (particle.radius - 0.5 < 0) particles.splice(index, 1);\n\t\t\t\telse particle.radius -= 0.5;\n\t\t\t}\n\t\t\tif (particle.timeToLive < 0) particles.splice(index, 1);\n\t\t});\n\n\t\tenemies.forEach((enemy) => {\n\t\t\tif (\n\t\t\t\tisOnTopOfPlatform({\n\t\t\t\t\tobject: enemy,\n\t\t\t\t\tplatform,\n\t\t\t\t})\n\t\t\t)\n\t\t\t\tenemy.velocity.y = 0;\n\t\t});\n\n\t\tfireFlowers.forEach((fireFlower) => {\n\t\t\tif (\n\t\t\t\tisOnTopOfPlatform({\n\t\t\t\t\tobject: fireFlower,\n\t\t\t\t\tplatform,\n\t\t\t\t})\n\t\t\t)\n\t\t\t\tfireFlower.velocity.y = 0;\n\t\t});\n\t});\n\n\t// win condition\n\tif (platformImage && scrollOffset > platformImage.width * 5 + 300 - 2) {\n\t\tconsole.log(\"you win\");\n\t}\n\n\t// lose condition\n\tif (player.position.y > canvas.height) {\n\t\tinit();\n\t}\n\n\t// sprite switching\n\tif (player.velocity.y !== 0) return;\n\n\tif (keys.right.pressed && lastKey === \"right\" && player.currentSprite !== player.sprites.run.right) {\n\t\tplayer.currentSprite = player.sprites.run.right;\n\t} else if (keys.left.pressed && lastKey === \"left\" && player.currentSprite !== player.sprites.run.left) {\n\t\tplayer.currentSprite = player.sprites.run.left;\n\t} else if (!keys.left.pressed && lastKey === \"left\" && player.currentSprite !== player.sprites.stand.left) {\n\t\tplayer.currentSprite = player.sprites.stand.left;\n\t} else if (!keys.right.pressed && lastKey === \"right\" && player.currentSprite !== player.sprites.stand.right) {\n\t\tplayer.currentSprite = player.sprites.stand.right;\n\t}\n\n\t// firewflower sprites\n\tif (!player.powerUps.fireFlower) return;\n\n\tif (keys.right.pressed && lastKey === \"right\" && player.currentSprite !== player.sprites.run.fireFlower.right) {\n\t\tplayer.currentSprite = player.sprites.run.fireFlower.right;\n\t} else if (keys.left.pressed && lastKey === \"left\" && player.currentSprite !== player.sprites.run.fireFlower.left) {\n\t\tplayer.currentSprite = player.sprites.run.fireFlower.left;\n\t} else if (!keys.left.pressed && lastKey === \"left\" && player.currentSprite !== player.sprites.stand.fireFlower.left) {\n\t\tplayer.currentSprite = player.sprites.stand.fireFlower.left;\n\t} else if (!keys.right.pressed && lastKey === \"right\" && player.currentSprite !== player.sprites.stand.fireFlower.right) {\n\t\tplayer.currentSprite = player.sprites.stand.fireFlower.right;\n\t}\n}\n\ninit();\nanimate();\n\naddEventListener(\"keydown\", ({ keyCode }) => {\n\tswitch (keyCode) {\n\t\tcase 65:\n\t\t\tconsole.log(\"left\");\n\t\t\tkeys.left.pressed = true;\n\t\t\tlastKey = \"left\";\n\t\t\tbreak;\n\t\tcase 83:\n\t\t\tconsole.log(\"down\");\n\t\t\tbreak;\n\t\tcase 68:\n\t\t\tconsole.log(\"right\");\n\t\t\tkeys.right.pressed = true;\n\t\t\tlastKey = \"right\";\n\t\t\tbreak;\n\t\tcase 87:\n\t\t\tconsole.log(\"up\");\n\t\t\tplayer.velocity.y -= 25;\n\n\t\t\tif (lastKey === \"right\") player.currentSprite = player.sprites.jump.right;\n\t\t\telse player.currentSprite = player.sprites.jump.left;\n\n\t\t\tif (!player.powerUps.fireFlower) break;\n\n\t\t\tif (lastKey === \"right\") player.currentSprite = player.sprites.jump.fireFlower.right;\n\t\t\telse player.currentSprite = player.sprites.jump.fireFlower.left;\n\n\t\t\tbreak;\n\t\tcase 32:\n\t\t\tconsole.log(\"space\");\n\n\t\t\tif (!player.powerUps.fireFlower) return;\n\n\t\t\t// fireball velocity\n\t\t\tlet velocity = 15;\n\t\t\tif (lastKey === \"left\") velocity = -velocity;\n\n\t\t\t// fireball when press space\n\t\t\tparticles.push(\n\t\t\t\tnew Particle({\n\t\t\t\t\tposition: {\n\t\t\t\t\t\tx: player.position.x + player.width / 2,\n\t\t\t\t\t\ty: player.position.y + player.height / 2,\n\t\t\t\t\t},\n\t\t\t\t\tvelocity: {\n\t\t\t\t\t\tx: velocity,\n\t\t\t\t\t\ty: 0,\n\t\t\t\t\t},\n\t\t\t\t\tradius: 5,\n\t\t\t\t\tcolor: \"red\",\n\t\t\t\t\tfireball: true,\n\t\t\t\t})\n\t\t\t);\n\t\t\tbreak;\n\t}\n});\n\naddEventListener(\"keyup\", ({ keyCode }) => {\n\tswitch (keyCode) {\n\t\tcase 65:\n\t\t\tconsole.log(\"left\");\n\t\t\tkeys.left.pressed = false;\n\t\t\tbreak;\n\t\tcase 83:\n\t\t\tconsole.log(\"down\");\n\t\t\tbreak;\n\t\tcase 68:\n\t\t\tconsole.log(\"right\");\n\t\t\tkeys.right.pressed = false;\n\n\t\t\tbreak;\n\t\tcase 87:\n\t\t\tconsole.log(\"up\");\n\t\t\tbreak;\n\t}\n});\n","// function randomIntFromRange(min, max) {\n// \treturn Math.floor(Math.random() * (max - min + 1) + min);\n// }\n\n// function randomColor(colors) {\n// \treturn colors[Math.floor(Math.random() * colors.length)];\n// }\n\n// function distance(x1, y1, x2, y2) {\n// \tconst xDist = x2 - x1;\n// \tconst yDist = y2 - y1;\n\n// \treturn Math.sqrt(Math.pow(xDist, 2) + Math.pow(yDist, 2));\n// }\n\nexport function createImage(imageSrc) {\n\tconst image = new Image();\n\timage.src = imageSrc;\n\treturn image;\n}\n\nexport function createImageAsync(imageSrc) {\n\treturn new Promise((resolve) => {\n\t\tconst image = new Image();\n\t\timage.onload = () => {\n\t\t\tresolve(image);\n\t\t};\n\t\timage.src = imageSrc;\n\t});\n}\n\nexport function isOnTopOfPlatform({ object, platform }) {\n\t// prettier-ignore\n\treturn object.position.y + object.height <= platform.position.y && \n\tobject.position.y + object.height + object.velocity.y >= platform.position.y && \n\tobject.position.x + object.width >= platform.position.x && \n\tobject.position.x <= platform.position.x + platform.width;\n}\n\nexport function collisionTop({ object1, object2 }) {\n\t// prettier-ignore\n\treturn object1.position.y + object1.height <= object2.position.y && \n\tobject1.position.y + object1.height + object1.velocity.y >= object2.position.y && \n\tobject1.position.x + object1.width >= object2.position.x && \n\tobject1.position.x <= object2.position.x + object2.width;\n}\n\nexport function isOnTopOfPlatformCircle({ object, platform }) {\n\t// prettier-ignore\n\treturn object.position.y + object.radius <= platform.position.y && \n\tobject.position.y + object.radius + object.velocity.y >= platform.position.y && \n\tobject.position.x + object.radius >= platform.position.x && \n\tobject.position.x <= platform.position.x + platform.width;\n}\n\nexport function hitBottomOfPlatform({ object, platform }) {\n\t// prettier-ignore\n\treturn object.position.y <= platform.position.y + platform.height && \n\tobject.position.y - object.velocity.y >= platform.position.y + platform.height && \n\tobject.position.x + object.width >= platform.position.x && \n\tobject.position.x <= platform.position.x + platform.width;\n}\n\nexport function hitSideOfPlatform({ object, platform }) {\n\t// prettier-ignore\n\treturn object.position.x + object.width + object.velocity.x - platform.velocity.x >= platform.position.x && \n\tobject.position.x + object.velocity.x <= platform.position.x + platform.width &&\n\tobject.position.y < platform.position.y + platform.height && \n\tobject.position.y + object.height >= platform.position.y\n}\n\nexport function objectsTouch({ object1, object2 }) {\n\t// prettier-ignore\n\treturn object1.position.x + object1.width >= object2.position.x && \n\tobject1.position.x <= object2.position.x + object2.width && \n\tobject1.position.y + object1.height >= object2.position.y && \n\tobject1.position.y <= object2.position.y + object2.height\n}\n"],"sourceRoot":""}